function D3ScatterPlotUtils(){}D3ScatterPlotUtils.prototype.deepExtend=function(t){var e=this;t=t||{};for(var r=1;r<arguments.length;r++){var o=arguments[r];if(o)for(var n in o)o.hasOwnProperty(n)&&("object"==typeof o[n]?t[n]=e.deepExtend(t[n],o[n]):t[n]=o[n])}return t};
function D3ScatterPlot(t,a,e){this.utils=new D3ScatterPlotUtils,this.placeholderSelector=t,this.svg=null,this.defaultConfig={width:null,height:null,margin:{left:30,right:30,top:30,bottom:30},x:{label:"X",value:function(t){return t[0]},orient:"bottom"},y:{label:"Y",value:function(t){return t[1]},orient:"left"}},a&&this.setData(a),e&&this.setConfig(e)}D3ScatterPlot.prototype.setData=function(t){return this.data=t,this},D3ScatterPlot.prototype.setConfig=function(t){return this.config=this.utils.deepExtend({},this.defaultConfig,t),this},D3ScatterPlot.prototype.initPlot=function(){var t=this.config.margin;return this.plot={x:{},y:{}},this.plot.width=this.config.width-t.left-t.right,this.plot.height=this.config.height-t.top-t.bottom,this.setupX(),this.setupY(),this},D3ScatterPlot.prototype.setupX=function(){var t=this.plot,a=t.x,e=this.config.x;a.value=e.value,a.scale=d3.scale.linear().range([0,t.width]),a.map=function(t){return a.scale(a.value(t))},a.axis=d3.svg.axis().scale(a.scale).orient(e.orient);var i=this.data;t.x.scale.domain([d3.min(i,t.x.value)-1,d3.max(i,t.x.value)+1])},D3ScatterPlot.prototype.drawPlot=function(){this.drawAxisX(),this.drawAxisY(),this.drawDots()},D3ScatterPlot.prototype.drawAxisX=function(){var t=this,a=t.plot,e=this.config.x;t.svg.append("g").attr("class","mw-axis mw-axis-x").attr("transform","translate(0,"+a.height+")").call(a.x.axis).append("text").attr("class","mw-label").attr("x",a.width).attr("y",-6).style("text-anchor","end").text(e.label)},D3ScatterPlot.prototype.drawAxisY=function(){var t=this,a=t.plot,e=this.config.y;t.svg.append("g").attr("class","mw-axis mw-axis-y").call(a.y.axis).append("text").attr("class","mw-label").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text(e.label)},D3ScatterPlot.prototype.setupY=function(){var t=this.plot,a=t.y,e=this.config.y;a.value=e.value,a.scale=d3.scale.linear().range([0,t.height]),a.map=function(t){return a.scale(a.value(t))},a.axis=d3.svg.axis().scale(a.scale).orient(e.orient);var i=this.data;t.y.scale.domain([d3.min(i,t.y.value)-1,d3.max(i,t.y.value)+1])},D3ScatterPlot.prototype.drawDots=function(){var t=this,a=t.plot,e=this.data;t.svg.selectAll(".mw-dot").data(e).enter().append("circle").attr("class","mw-dot").attr("r",3.5).attr("cx",a.x.map).attr("cy",a.y.map)},D3ScatterPlot.prototype.initSvg=function(){var t=this,a=this.config;t.svg=d3.select(t.placeholderSelector).append("svg").attr("width",a.width).attr("height",a.height).attr("class","mw-d3-scatterplot").append("g").attr("transform","translate("+a.margin.left+","+a.margin.top+")")},D3ScatterPlot.prototype.init=function(){var t=this;t.initSvg(),t.initPlot(),t.drawPlot()};